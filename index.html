<!DOCTYPE html>
<html id="html"><head>
<meta charset="utf-8">
<meta http-equiv="onion-location" content="http://sh1rgapi.tsg4o4zjaknpkbefs2k47a7emkl54moz2t2k4py4gbyhz6v7vubsjbad.onion/chat/">
<link rel="preload" href="css.css" as="style">
<link rel="preload" href="socket.io/socket.io.js" as="script">
<link rel="preload" href="language.js" as="script">
<link rel="preload" href="app.js" as="script">
<link rel="preload" href="sh1rga.svg" as="image">
<link rel="preload" href="logo.png" as="image">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src *">
<title>Sh1rga Chat</title>
<link rel="stylesheet" type="text/css" href="css.css">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Sh1rga Chat">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="icon" href="favicon.png">
<link rel="apple-touch-icon" href="icon.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@tsg0o0">
<meta property="og:url" content="https://sh1rga.tsg0o0.com/chat/">
<meta property="og:title" content="Sh1rga Chat">
<meta property="og:description" content="Sh1rga Chat Web App">
<meta property="og:image" content="https://sh1rga.tsg0o0.com/chat/og.png">
<meta content="noarchive" name="robots">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="0">
</head><body>
<bdo dir="ltr" id="bdo">
<header>
<div class="ls"><img src="logo.png" alt="Sh1rga Chat" aria-hidden="true"></div>
<div class="ls" id="msg"></div>
</header>
<div class="box" id="box">
<div id="status"></div>
</div>
<div class="loadCurtain" id="loadCurtain">
<script>document.write('<img src="sh1rga.svg" aria-label="Now Loading" alt="Sh1rga">')</script>
<noscript>
<div class="setbox" style="padding-bottom:32px;margin:16px auto">
<img src="logo.png" style="position:unset;height:100px" aria-label="Shirga Chat" alt="Sh1rga Chat"><br>
<strong style="font-size:150%">JavaScript is not available.</strong><br><br>
JavaScript and WebSockets are required to use Sh1rga Chat.<br>
Please enable them or switch to a supported browser.<br><br>
<i style="color:#aaa">(Safari, Firefox and Tor Browser are recommended for Sh1rga Chat)</i>
</div></noscript>
</div>
</bdo>
</body>
<script>
var address_api = null;
function getParam(name, url) {if (!url) url = window.location.href;name = name.replace(/[\[\]]/g, "\\$&");var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),results = regex.exec(url);if (!results) return null;if (!results[2]) return '';return decodeURIComponent(results[2].replace(/\+/g, " "));}
const url = new URL(window.location.href);
function UseHTTPS(){
if (getParam('lang') == null) {
history.replaceState('','','?protocol=' + "https");
}else{
history.replaceState('','','?lang=' + getParam('lang') + '&protocol=' + "https");}
location.reload();}
function UseTor(){
if (getParam('lang') == null) {
history.replaceState('','','?protocol=' + "tor");
}else{
history.replaceState('','','?lang=' + getParam('lang') + '&protocol=' + "tor");}
location.reload();}
function UseHTTP(){
if (getParam('lang') == null) {
history.replaceState('','','?protocol=' + "http");
}else{
history.replaceState('','','?lang=' + getParam('lang') + '&protocol=' + "http");}
location.reload();}

function CSConnect(){
if (getParam('lang') == null) {
history.replaceState('','','?customserver=' + document.getElementById("csaddress").value);
}else{
history.replaceState('','','?lang=' + getParam('lang') + '&customserver=' + document.getElementById("csaddress").value);}
location.reload();}

function ViewConnectionSetting(){
history.replaceState('','','?');
location.reload();
}

if (getParam('customserver') == null) {
  if (getParam('protocol') == "http") {
  	var url = location.href
  	if(url.indexOf("https://") >= 0) {
  		var reurl = url.replace("https://", "http://");
  		location.replace(reurl);
	}
	address_api = "http://sh1rgapi.tsg0o0.com";
	document.getElementById('box').innerHTML = "<br>Having connection problems?<br><button onClick=\"ViewConnectionSetting();return false;\">Connection Setting</button>";
  }else if (getParam('protocol') == "tor") {
  	var url = location.href
  	if(url.indexOf("https://") >= 0) {
  		var reurl = location.href.replace("https://", "http://");
  		location.replace(reurl);
	}
	address_api = "http://sh1rgapi.tsg4o4zjaknpkbefs2k47a7emkl54moz2t2k4py4gbyhz6v7vubsjbad.onion";
	document.getElementById('box').innerHTML = "<br>Having connection problems?<br><button onClick=\"ViewConnectionSetting();return false;\">Connection Setting</button>";
  }else if (getParam('protocol') == "https") {
	address_api = "https://sh1rgapi.tsg0o0.com";
	document.getElementById('box').innerHTML = "<br>Having connection problems?<br><button onClick=\"ViewConnectionSetting();return false;\">Connection Setting</button>";
  }else{
	document.getElementById('box').innerHTML = '<br><div class="setbox"><br><strong>Select the communication protocol.</strong><br><br><button onclick="UseHTTPS();">Use HTTPS</button><br><br><button onclick="UseTor();">Use Tor</button><br><br><button onclick="UseHTTP();">Use HTTP (deprecated)</button><br><br></div><br>OR<br><br><strong>Custom Server</strong><br><input type="url" id="csaddress"  alt="Enter the custom server address" enterkeyhint="done" aria-label="Enter the custom server address" class="cstmserverinput" dir="ltr"><br><button onClick="CSConnect();return false;" style="border-radius:0 0 16px 16px;margin-top:-7px">Connect</button>';
  }
}else{
  address_api = getParam('customserver');
  document.getElementById('box').innerHTML = "<br>Having connection problems?<br><button onClick=\"ViewConnectionSetting();return false;\">Connection Setting</button>";
}
var address_client = "https://sh1rga.tsg0o0.com/chat/";
var address_web = "https://sh1rga.tsg0o0.com";
</script>
<script src="socket.io.js" defer></script>
<script src="jquery.js" defer></script>
<script src="crypt.js" defer></script>
<script src="string.js" defer></script>
<script src="language.js" defer></script>
<script src="app.js" defer></script>
</html>